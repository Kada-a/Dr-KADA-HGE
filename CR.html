<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compte-Rendu Médical</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .form-section { margin-bottom: 20px; padding: 15px; border: 1px solid #ccc; border-radius: 5px; }
        .input-group { display: flex; flex-wrap: wrap; gap: 10px; }
        label { display: block; margin-top: 5px; }
        .grid-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
        .normal-checkbox { margin-right: 5px; }
        button { padding: 10px; margin-top: 10px; cursor: pointer; background: #007bff; color: white; border: none; border-radius: 5px; }
        #resultConsult { margin-top: 20px; padding: 15px; border: 1px solid #000; background: #f9f9f9; }
    </style>
	  </style>
   <style>
    .nav-link {
      display: inline-block;
      margin-right: 15px;
    }
  </style>
   <style>
    a {
      margin-right: 20px; /* Ajustez la valeur selon vos besoins */
    }
  </style>
</head>
<body>
 <a href="index.html">Retour à l'accueil</a>
  <a href="Tube digestif.html">Tube digestif</a>
 <a href="FoieVoiesBiliaires.html">Foie et Voies Biliaires</a>
 <a href="Pancréas.html">Pancréas</a>   
 <a href="Cancer.html">Cancer Digestif</a>
<div id="moduleCompteRendu">
  <h3>Compte-Rendu Clinique</h3>
  <form id="formConsult">
    <!-- Section : Identité et Paramètres Vitaux -->
    <section class="form-section">
      <h3>Identité et Paramètres Vitaux</h3>
      <div class="input-group">
        <label>Âge : <input type="number" id="age" min="0" max="120" required></label>
        <label>Sexe :
          <select id="sexe" required>
            <option value="">... Sélectionner ...</option>
            <option value="M">Masculin</option>
            <option value="F">Féminin</option>
          </select>
        </label>
        <label>Mode d'établissement :
          <select id="modeArrivee" required>
            <option value="">... Sélectionner ...</option>
            <option value="Pompiers">Ramené par les pompiers</option>
            <option value="Seul">Vient de lui-même</option>
            <option value="Médecin">Adressé par son médecin traitant</option>
          </select>
        </label>
        <label>Douleur (EVA 0-10) :
          <select id="score" required>
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
          </select>
        </label>
      </div>
    </section>
    <!-- Section : Antécédents Médicaux -->
    <section class="form-section" id="sectionAntecedents">
      <h3>Antécédents Médicaux</h3>
      <div class="input-group">
        <fieldset>
          <legend>Cardio-vasculaire</legend>
          <label><input type="checkbox" class="antecedentsCardio" id="antecedentsCardio1"> Cardiopathie ischémique</label>
          <label><input type="checkbox" class="antecedentsCardio" id="antecedentsCardio2"> Insuffisance cardiaque</label>
          <label><input type="checkbox" class="antecedentsCardio" id="antecedentsCardio3"> Arthériopathie</label>
          <label><input type="checkbox" class="antecedentsCardio" id="antecedentsCardio4"> Accident vasculaire cérébral</label>
        </fieldset>
        <fieldset>
          <legend>Respiratoire</legend>
          <label><input type="checkbox" class="antecedentsResp" id="antecedentsResp1"> Insuffisance respiratoire</label>
          <label><input type="checkbox" class="antecedentsResp" id="antecedentsResp2"> BPCO</label>
          <label><input type="checkbox" class="antecedentsResp" id="antecedentsResp3"> Embolie pulmonaire</label>
        </fieldset>
        <fieldset>
          <legend>Neurologique</legend>
          <label><input type="checkbox" class="antecedentsNeuro" id="antecedentsNeuro1"> Accident vasculaire cérébral</label>
          <label><input type="checkbox" class="antecedentsNeuro" id="antecedentsNeuro2"> Épilepsie</label>
          <label><input type="checkbox" class="antecedentsNeuro" id="antecedentsNeuro3"> Troubles de la mémoire</label>
        </fieldset>
        <fieldset>
          <legend>Abdominal</legend>
          <label><input type="checkbox" class="antecedentsAbdo" id="antecedentsAbdo1"> Laparotomie</label>
          <label><input type="checkbox" class="antecedentsAbdo" id="antecedentsAbdo2"> Appendicectomie</label>
          <label><input type="checkbox" class="antecedentsAbdo" id="antecedentsAbdo3"> Cholécystectomie</label>
          <label><input type="checkbox" class="antecedentsAbdo" id="antecedentsAbdo4"> Colectomie</label>
        </fieldset>
        <fieldset>
          <legend>Urinaire</legend>
          <label><input type="checkbox" class="antecedentsUro" id="antecedentsUro1"> Colique néphrétique</label>
          <label><input type="checkbox" class="antecedentsUro" id="antecedentsUro2"> Infection urinaire</label>
          <label><input type="checkbox" class="antecedentsUro" id="antecedentsUro3"> HBP</label>
          <label><input type="checkbox" class="antecedentsUro" id="antecedentsUro4"> Cancer du rein</label>
        </fieldset>
      </div>
      <label>Autres antécédents : <input type="text" id="autresAntecedents"></label>
    </section>
<!-- Section : Signes Fonctionnels -->
<section class="form-section" id="sectionSignes">
  <h3>Signes Fonctionnels</h3>
  <div class="grid-4">
    <fieldset>
      <legend>Cardio-vasculaire</legend>
      <label><input type="checkbox" id="douleurThoracique"> Douleur thoracique</label>
      <label><input type="checkbox" id="palpitations"> Palpitations</label>
      <label><input type="checkbox" id="syncope"> Syncope</label>
      <label>
        <input type="checkbox" id="dyspneeNYHA"> Essoufflement
      </label>
      <select id="nyhaSelect" style="display:none;">
        <option value="">... Sélectionner le stade NYHA ...</option>
        <option value="NYHA I">NYHA I</option>
        <option value="NYHA II">NYHA II</option>
        <option value="NYHA III">NYHA III</option>
        <option value="NYHA IV">NYHA IV</option>
      </select>
    </fieldset>

    <fieldset>
      <legend>Respiratoire</legend>
      <label><input type="checkbox" id="dyspnee"> Dyspnée</label>
      <label><input type="checkbox" id="toux"> Toux</label>
      <label><input type="checkbox" id="hemoptysie"> Hémoptysie</label>
    </fieldset>

    <fieldset>
      <legend>Neurologique</legend>
      <label><input type="checkbox" id="vertiges"> Vertiges</label>
      <label><input type="checkbox" id="troublesMemoire"> Troubles de la mémoire</label>
      <label><input type="checkbox" id="paresthesies"> Paresthésies</label>
    </fieldset>

    <fieldset>
      <legend>Abdominal</legend>
      <label><input type="checkbox" id="douleursAbdominales"> Douleurs abdominales</label>
      <label><input type="checkbox" id="nausees"> Nausées/Vomissements</label>
      <label><input type="checkbox" id="hématémèse"> Hématémèse</label>
      <label><input type="checkbox" id="constipation"> Constipation</label>
      <label><input type="checkbox" id="diarrhee"> Diarrhée</label>
      <label><input type="checkbox" id="rectorragie"> Rectorragie</label>
    </fieldset>
  </div>
  <label>Autres signes fonctionnels : <input type="text" id="autresSignes"></label>
</section>

<!-- Section : Examen Clinique -->
<section class="form-section" id="sectionExamen">
  <h3>Examen Clinique</h3>
  <div class="grid-4">
    <fieldset>
      <legend>Cardio-vasculaire</legend>
      <label><input type="checkbox" id="souffleCardiaque"> Souffle cardiaque</label>
      <label><input type="checkbox" id="bruitsAnormaux"> Bruits cardiaques anormaux</label>
    </fieldset>

    <fieldset>
      <legend>Respiratoire</legend>
      <label><input type="checkbox" id="crepitants"> Crépitants</label>
      <label><input type="checkbox" id="ronchis"> Ronchis</label>
    </fieldset>

    <fieldset>
      <legend>Neurologique</legend>
      <label><input type="checkbox" id="reflexes"> Réflexes diminués</label>
      <label><input type="checkbox" id="troublesMarche"> Troubles de la marche</label>
    </fieldset>

    <fieldset>
      <legend>Abdominal</legend>
      <label><input type="checkbox" id="douleurPalpation"> Douleur à la palpation</label>
      <label><input type="checkbox" id="masseAbdominale"> Masse abdominale</label>
    </fieldset>
  </div>
  <label>Autres observations cliniques : <input type="text" id="autresExamen"></label>
</section>
    
    <button type="button" id="btnGenererCR">Générer le Compte-Rendu</button>
  </form>

  <div id="resultConsult"></div>
  
  <script>
    (function() {
      const moduleContainer = document.getElementById("moduleCompteRendu");

      // Gestion de l'affichage du menu NYHA selon la case dyspnée
      const dyspneeCheckbox = moduleContainer.querySelector("#dyspneeNYHA");
      const nyhaSelect = moduleContainer.querySelector("#nyhaSelect");
      dyspneeCheckbox.addEventListener("change", function() {
        if (this.checked) {
          nyhaSelect.style.display = "inline-block";
        } else {
          nyhaSelect.style.display = "none";
          nyhaSelect.value = "";
        }
      });
      
      function genererCR() {
        const result = moduleContainer.querySelector("#resultConsult");
        let texte = "Compte-Rendu Médical\n\n";
      
        // Récupération des informations générales
        const age = moduleContainer.querySelector("#age")?.value || "Non renseigné";
        const sexe = moduleContainer.querySelector("#sexe")?.value || "Non renseigné";
        const modeArrivee = moduleContainer.querySelector("#modeArrivee")?.value || "Non renseigné";
        const score = moduleContainer.querySelector("#score")?.value || "Non renseigné";
        texte += `Patient : ${age} ans, ${sexe}, arrivé(e) ${modeArrivee.toLowerCase()}.\n`;
        texte += `Échelle de douleur : ${score}/10.\n\n`;
      
        // Récupération des constantes vitales
        const tension = moduleContainer.querySelector("#tension")?.value || "Non renseigné";
        const frequenceCardiaque = moduleContainer.querySelector("#frequenceCardiaque")?.value || "Non renseigné";
        const temperature = moduleContainer.querySelector("#temperature")?.value || "Non renseigné";
        const saturation = moduleContainer.querySelector("#saturation")?.value || "Non renseigné";
        texte += `Constantes Vitales : TA : ${tension}, FC : ${frequenceCardiaque}, Température : ${temperature}°C, Sat O2 : ${saturation}%.\n\n`;
      
        // Récupération des signes fonctionnels
        let signesFonctionnels = "";
        moduleContainer.querySelectorAll("#sectionSignes input[type=checkbox]:checked").forEach(checkbox => {
          let label = checkbox.parentElement.textContent.trim();
          if (checkbox.id === "dyspneeNYHA") {
            const nyha = nyhaSelect.value;
            label = nyha ? "Dyspnée (" + nyha + ")" : "Dyspnée";
          }
          signesFonctionnels += label + ", ";
        });
        if (signesFonctionnels) {
          signesFonctionnels = signesFonctionnels.slice(0, -2);
          texte += `Signes Fonctionnels : ${signesFonctionnels}.\n`;
        } else {
          texte += `Signes Fonctionnels : Aucun signe fonctionnel rapporté.\n`;
        }
        const autresSignes = moduleContainer.querySelector("#autresSignes")?.value;
        if (autresSignes) texte += `Autres signes fonctionnels : ${autresSignes}.\n\n`;
      
        // Récupération des observations cliniques
        let observations = "";
        moduleContainer.querySelectorAll("#sectionExamen input[type=checkbox]:checked").forEach(checkbox => {
          const label = checkbox.parentElement.textContent.trim();
          observations += label + ", ";
        });
        if (observations) {
          observations = observations.slice(0, -2);
          texte += `Examen Clinique : ${observations}.\n`;
        } else {
          texte += `Examen Clinique : Aucune anomalie détectée lors de l'examen clinique.\n`;
        }
        const autresExamen = moduleContainer.querySelector("#autresExamen")?.value;
        if (autresExamen) texte += `Autres observations cliniques : ${autresExamen}.\n`;
      
        // Récupération des antécédents médicaux
        let antecedents = "";
      
        // Cardio-vasculaire
        const cardio = Array.from(moduleContainer.querySelectorAll(".antecedentsCardio:checked"))
                          .map(cb => cb.parentElement.textContent.trim())
                          .join(", ");
        if (cardio) {
          antecedents += `Cardio-vasculaire : ${cardio}.\n`;
        }
      
        // Respiratoire
        const resp = Array.from(moduleContainer.querySelectorAll(".antecedentsResp:checked"))
                          .map(cb => cb.parentElement.textContent.trim())
                          .join(", ");
        if (resp) {
          antecedents += `Respiratoire : ${resp}.\n`;
        }
      
        // Neurologique
        const neuro = Array.from(moduleContainer.querySelectorAll(".antecedentsNeuro:checked"))
                           .map(cb => cb.parentElement.textContent.trim())
                           .join(", ");
        if (neuro) {
          antecedents += `Neurologique : ${neuro}.\n`;
        }
      
        // Abdominal
        const abdo = Array.from(moduleContainer.querySelectorAll(".antecedentsAbdo:checked"))
                          .map(cb => cb.parentElement.textContent.trim())
                          .join(", ");
        if (abdo) {
          antecedents += `Abdominal : ${abdo}.\n`;
        }
      
        // Urinaire (correction apportée : utilisation de "uro" au lieu de redéclarer "abdo")
        const uro = Array.from(moduleContainer.querySelectorAll(".antecedentsUro:checked"))
                          .map(cb => cb.parentElement.textContent.trim())
                          .join(", ");
        if (uro) {
          antecedents += `Urinaire : ${uro}.\n`;
        }
      
        if (antecedents) {
          texte += `\nAntécédents Médicaux :\n${antecedents}`;
        } else {
          texte += `\nAntécédents Médicaux : Aucun antécédent coché.\n`;
        }
        const autresAntecedents = moduleContainer.querySelector("#autresAntecedents")?.value;
        if (autresAntecedents) texte += `Autres antécédents : ${autresAntecedents}.\n`;
      
        // Afficher le texte dans la div resultConsult
        result.innerHTML = `<pre>${texte}</pre>`;
      }
      
      moduleContainer.querySelector("#btnGenererCR").addEventListener("click", genererCR);
    })();
  </script>
</div>

</body>
</html>
